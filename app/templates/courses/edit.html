{% extends "base.html" %}

{% block title %}Kursni tahrirlash{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="mb-6">
        <a href="{{ url_for('courses.detail', id=course.id) }}" class="text-sm text-gray-500 hover:text-primary-600">‚Üê Kursga qaytish</a>
        <h1 class="text-2xl font-bold text-gray-900 mt-2">Kursni tahrirlash</h1>
        <p class="text-gray-500 mt-1">Kurs ma'lumotlarini yangilang</p>
    </div>
    
    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
        <form method="POST" class="space-y-6">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Kurs nomi</label>
                <input type="text" name="title" value="{{ course.title }}" required class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Tavsif</label>
                <textarea name="description" rows="4" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none">{{ course.description or '' }}</textarea>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Kategoriya</label>
                <select name="category" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                    <option value="Dasturlash" {% if course.category == 'Dasturlash' %}selected{% endif %}>Dasturlash</option>
                    <option value="Web" {% if course.category == 'Web' %}selected{% endif %}>Web dasturlash</option>
                    <option value="Ma'lumotlar bazasi" {% if course.category == "Ma'lumotlar bazasi" %}selected{% endif %}>Ma'lumotlar bazasi</option>
                    <option value="Mobil" {% if course.category == 'Mobil' %}selected{% endif %}>Mobil dasturlash</option>
                    <option value="AI/ML" {% if course.category == 'AI/ML' %}selected{% endif %}>AI/ML</option>
                    <option value="Xavfsizlik" {% if course.category == 'Xavfsizlik' %}selected{% endif %}>Kiberxavfsizlik</option>
                    <option value="Umumiy" {% if course.category == 'Umumiy' %}selected{% endif %}>Boshqa</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Rasm URL</label>
                <input type="url" name="thumbnail" value="{{ course.thumbnail or '' }}" placeholder="https://..." class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
            </div>
            
            <div class="flex items-center gap-3">
                <input type="checkbox" name="is_published" id="is_published" {% if course.is_published %}checked{% endif %} class="w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                <label for="is_published" class="text-sm text-gray-700">Kursni e'lon qilish</label>
            </div>
            
            <div class="flex justify-end gap-3 pt-4">
                <a href="{{ url_for('courses.detail', id=course.id) }}" class="px-6 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-colors">Bekor qilish</a>
                <button type="submit" class="px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-xl transition-colors">Saqlash</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

